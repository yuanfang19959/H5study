<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="yyy">
        <button id="btn">123</button>
    </div>
</body>
<script>
    // dom0级 默认在冒泡阶段触发
    // 其中的this为元素所在的作用域
    btn.onclick = function() {}
    // 移除事件
    btn.onclick = null;






    // DOM2级 可以添加多个相同事件
    let div = document.querySelector("#yyy");
    let btn = document.querySelector("#btn");
    // 参数为true的情况下 点击btn 会触发事件捕获
    // body -> div -> btn
    document.body.addEventListener('click', function () {
        alert('body')
    }, true)
    div.addEventListener('click', function () {
        alert('div')
    }, true)
    btn.addEventListener('click', function () {
        alert('btn')
    }, true)
    

    // 参数为false的情况下 点击btn 会触发事件冒泡. 默认不传false的话 会执行冒泡
    // btn -> div -> body
    document.body.addEventListener('click', function () {
        alert('body')
    })
    div.addEventListener('click', function () {
        alert('div')
    })
    btn.addEventListener('click', function () {
        alert('btn')
    })

    // 移除事件 需要传入相同的参数；但是如果里面是匿名函数的话 则无法移除
    btn.removeEventListener('click', function(){}, false)





    // ie事件处理程序
    // 这里面的this === window 以下仅支持ie11以下
    // ie8以下会以相反的顺序执行 
    var btn = document.getElementById("btn");
    btn.attachEvent('onclick', function(){
        alert(this === window)
    })
    btn.attachEvent('onclick', function(){
        alert(11111111111111)
    })
    
    // 移除事件 但是匿名函数的事件无法移除
    btn.detachEvent('onclick', function(){
        alert(11111111111111)
    })
</script>

</html>